environment: production
environmentCode:
name: ffc-pay-report-generator
namespace: ffc-pay
workstream: ffc-pay
image: ffc-pay-report-generator

labels:
  component: service

appInsights:
  connectionString:

containerConfigMap:
  name: ffc-pay-report-generator-config-map

containerSecret:
  name: ffc-pay-report-generator-container-secret
  type: Opaque

container:
  nodeOptions: --max-old-space-size=8192
  requestMemory: 800Mi
  requestCpu: 800m
  limitMemory: 8192Mi
  limitCpu: 6000m
  azureStorageConnectionString: dummy
  azureStorageUseConnectionString: false
  azureStorageAccountName: ffcpay

workloadIdentity: true

azureIdentity:
  clientID: not-a-real-clientID
  resourceID: not-a-real-resourceID

cronJob:
  schedule: "0 */2 * * *"
  concurrencyPolicy: Forbid
  restartPolicy: Never
  successfulJobsHistoryLimit: 1

secretProviderClass:
  azure:
    keyvaultName: SNDFFCINFKV2001
    objects: # reading the secret from Azure Key Vault
      - objectName: appInsights-connectionString # secret name in Azure Key Vault
        objectType: secret

  secretObjects: # creating a Kubernetes secret from the Azure Key Vault secrets
    - secretName: ffc-pay-report-generator
      type: Opaque
      data:
        - objectName: appInsights-connectionString # secret name in Azure Key Vault
          key: APPLICATIONINSIGHTS_CONNECTION_STRING # the secret key in the Kubernetes secret and use in the application